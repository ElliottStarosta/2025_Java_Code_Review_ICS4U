# --------------------------------
# Application
# --------------------------------
spring.application.name=virtual-vet-chatbot

# --------------------------------
# Server Configuration
# --------------------------------
server.port=8080
server.servlet.context-path=/

# --------------------------------
# Database Configuration (H2)
# --------------------------------
spring.datasource.url=jdbc:h2:mem:vetchat;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.platform=h2

# --------------------------------
# JPA/Hibernate Configuration
# --------------------------------
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# --------------------------------
# H2 Console (for development)
# --------------------------------
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# --------------------------------
# File Upload Configuration
# --------------------------------
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
spring.servlet.multipart.file-size-threshold=2KB

# --------------------------------
# AI Service Configuration
# --------------------------------
ai.hackclub.api.url=https://ai.hackclub.com/chat/completions

# --------------------------------
# VQA Configuration
# --------------------------------
ai.vqa.enabled=true
ai.vqa.timeout=30

# --------------------------------
# Python VQA Server Configuration
# --------------------------------
# vqa.python.script.path=C:/Users/starl/Documents/GitHub/connections/vetbot/main.py
vqa.python.script.path=main.py
vqa.python.executable=python
vqa.server.port=5000
vqa.server.host=127.0.0.1
vqa.startup.timeout=120
vqa.health.check.retries=12
vqa.health.check.interval=10

# --------------------------------
# Vaadin DevMode
# --------------------------------
vaadin.devmode.devTools.enabled=false

# --------------------------------
# Image Storage Configuration
# --------------------------------
image.storage.path=./uploads
image.cleanup.max-files-per-session=10
image.cleanup.enabled=true

# --------------------------------
# Emergency Services Configuration
# --------------------------------
emergency.service.provider=nominatim
emergency.default.radius=25

# --------------------------------
# Logging Configuration
# --------------------------------
# Root logging
logging.level.root=INFO
logging.level.com.virtualvet=INFO
logging.level.com.virtualvet.PythonVQAServerManager=DEBUG
logging.level.org.springframework=INFO
logging.level.org.hibernate=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# --------------------------------
# CORS Configuration
# --------------------------------
cors.allowed-origins=http://localhost:8080,https://localhost:8080
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.max-age=3600

# --------------------------------
# Async Configuration
# --------------------------------
spring.task.execution.pool.core-size=5
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=25

# --------------------------------
# Session Management
# --------------------------------
session.timeout.minutes=30
session.cleanup.interval.minutes=60

# --------------------------------
# Console / Startup Improvements
# --------------------------------
# Enable colored output in console
spring.output.ansi.enabled=ALWAYS

# Show concise startup info
spring.main.log-startup-info=true

# Custom banner (create src/main/resources/banner.txt)
spring.main.banner-mode=console

# Devtools tweaks
spring.devtools.add-properties=false
spring.devtools.restart.enabled=false
